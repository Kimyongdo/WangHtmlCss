<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <script>
        //5. Array
        //이미 배열수업에 거의 대부분 소개
        var arr=new Array(10,20,30);
        document.write(arr+"<br>");//10,20,30
        document.write(arr.toString()+"<br>");//10,20,30
        
        //배열의 주요메소드
        //1) 배열붙이기
        var arr1=[3,4,5];
        var arr2 = arr.concat(arr1);//원본은 안바뀜.
        document.write(arr2+"<br>");//10,20,30,3,4,5

        //2)indexof
        document.write(arr.indexOf()+"<br>");//-1 //없음
        document.write(arr.indexOf(30)+"<br>");//2 //두번째 있음
        document.write(arr.indexOf(10,1)+"<br>");//-1 그 번호 이후면 검색

        //3)push, pop(stack구조) 처음에 들어간게 나중에 나옴 queue는 처음에 들어간게 처음으로 나온다.
        var stack=[1,2,3,4,5,6];
        document.write(stack+"<br>");//1,2,3,4,5,6

        stack.push(10); //새로운 값 삽입. 마지막 위치
        document.write(stack+"<br>");//1,2,3,4,5,6,10

        var a= stack[5];
        document.write(a+"<br>");//6
        document.write(stack+"<br>");//1,2,3,4,5,6,10

        var a=stack.pop();
        document.write(a+"<br>");//10 마지막 요소 나옴[스택구조] 제일 마지막에 들어간게 가장 먼저 나온다.
        document.write(stack+"<br>");//1,2,3,4,5,6

        //4) push, shift(Queue)
        var queue =[1,2,3,4,5,6];
        queue.push(10);
        document.write(queue+"<br>");//1,2,3,4,5,6,10
        var a = queue.shift();
        document.write(a+"<br>");//1 가장 처음들어간게 나옴. 

        
        //5. sort
        var arr = [3,5,4,8,1,6,7];
        document.write(arr+"<br>");//3,5,4,8,1,6,7
        arr.sort();
        document.write(arr+"<br>");//1,3,4,5,6,7,8 정렬
        var arr=[3,4,15,48,754,1234,67,7]; //3,4,15,48,754,1234,67,7
        document.write(arr+"<br>");
        arr.sort();
        document.write(arr+"<br>");//1234,15,3,4,48,67,7,754 <- 1을 기준,2를 기준.


        //해결하려면 sort()패러미터에 '정렬기준함수'를 넣어줌
        arr.sort(function(a,b){return a-b}); //오름차순이 됨.
        document.write(arr.sort(function(a,b){return a-b})+"<br>");//3,4,7,15,48,67,754,1234
        //return a-b; 음수면 그대로, 양수면 자리 바꿔. 

        document.write(arr.sort(function(a,b){return b-a})+"<br>");//1234,754,67,48,15,7,4,3
        
        //알파벳은 기본적으로 오름차순
        var arr=['abc','aab','bsc','adsf','asdf'];
        arr.sort();
        document.write(arr+"<br>");//aab,abc,adsf,asdf,bsc

        //내림차순 - 지정함수
        var desc = function(a,b){
            if(a>b) return -1; //음수
            if(a<b) return 1;  //양수
            return 0;

        }
        arr.sort(desc);
        document.write(arr+"<br>");//bsc,asdf,adsf,abc,aab

        //한글도 정렬됨 - sort는 원본수정
        var arr=['문재인','이문새','홍길동','김말순','홍리나'];
        arr.sort();
        document.write(arr+"<br>");//김말순,문재인,이문새,홍길동,홍리나

        //6) slice - 배열의 일부분을 잘라서 새로운 배열 리턴;
        var arr=[10,20,30,40,50,60,70,80,90];
        var arr1 = arr.slice(3); //3번방부터 잘라서 새로운 배열 리턴
        document.write(arr+"<br>");//10,20,30,40,50,60,70,80,90
        document.write(arr1+"<br>");//40,50,60,70,80,90

        var arr1 = arr.slice(3,6);//3번~6번전까지 잘라서 리턴
        document.write(arr1+"<br>");//40,50,60 (3번4번5번);

        //7) join - 배열의 요소를 특정문자를 구분자로하여 하나의 문자열로 리턴[String의 split의 정반대]
        var arr=["aa","bb","cc"];
        var str=arr.join('&');
        document.write(str+"<br>");//aa&bb&cc

        //8) filter - 지정함수 이용[sort와 같음]
        var arr=[1,2,3,4,5,2,7,4,1,-5,-3,3.14];
        var arr2=arr.filter(function(e){return e>3}); //e를 조건으로 e가 조건에 해다하는 것만 출력
        document.write(arr2+"<br>");//4,5,7,4,3.14

        //9)복잡한 지정함수
        var filter=function(e,index,array){
            //e = 요소 하나하나
            //index = 인덱스번호
            //array = 배열 객체 

            //요소값이 3보다 크고, 인덱스번호 5보다 큰거 
            //return (e>5 && index>5);
            
            //요소의 값이 3보다 크고 index가5보다 크고 배열길이가 7보다 클때
            return(e>5 && index>5 && array.length>7);

        }

        var arr2 = arr.filter(filter);
        document.write(arr2+"<br>");//7


        //2차원배열
        var arr=[
            [10,20,30],["aaa","bbb","ccc"],[new Date()]
        ];

        document.write(arr+"<br>");//10,20,30,aaa,bbb,ccc,Fri Dec 13 2019 13:54:48 GMT+0900 (한국 표준시)

        //추가된 기능들
        //ECMAscript5 에서 새로 추가된 기능들
        var aa=[10,20,30,40,50];

        //각각의 배열요소에 접근할 때 마다 파라미터인 콜백함수가 실행됨.
        //aa의 개수만큼 함수실행. 
        //콜백함수 - 명시적호출이 아닌 상황이 되면 호출이 되는 것. 
        aa.forEach(function(value, index, array){
            document.write(value+", "+index+", "+array.length+"<br>");
        });
// 10, 0, 5
// 20, 1, 5
// 30, 2, 5
// 40, 3, 5
// 50, 4, 5 이 출력이 된다.

        // forEach()와 매수비슷한 mapMethod()
        // 배열요소에 접근할때마다 콜백함수가 실행되고 foreach와 다르게 함수에 return이 존재함
        // return된 값들이 다시 새로운 배열을 만들어냄.

        //기존의 요소를 규칙적으로 조작하고 싶을 때 
        var bb=aa.map(function(value,index,array){
            //return 100; //아무런 수
            return value+index;     
        });
        //개수만큼 function을 가져오고 return값은 var bb에서 받는다.
        // document.write(bb+"<br>");//return이 100인 경우 100,100,100,100,100 
        document.write(bb+"<br>");//10,21,32,43,54
        
        //map()메소드는 예를 들어 요소의 값을 모두 1씩 증가시켜 등의 작업에 사용함.
        //map은 새로운 변수값을 만들어서 들어간다.
        //하이브리드앱에서 가장 많이 씀. 
        //value는 aa의 요소들 
        var cc = aa.map(function(value){return value+1});
        document.write(cc+"<br>");//11,21,31,41,51
        
        document.write('<hr>');
        //js객체 -> json문자열 변환!!
        var person={
            name:"same",
            age:20,
            male:true,
            test:{aaa:"aa",bbb:"bb"},
            
            //메소드
            show:function(){
                document.write(this.name); //
            }
        }
        //객체->json
        var json = JSON.stringify(person); //Json는 메소드를 무시 
        document.write(json+"<br>");

        //JSON ->객체로 변경 많이 씀.
        var car=JSON.parse('{"name":"bmw", "model":520, "color":"red"}')
        document.write(car.name+", "+car.model+", "+car.color+"<br>");//bmw, 520, red

        














    </script>
</head>
<body>
    
</body>
</html>